"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _Sidenav = _interopRequireDefault(require("./Sidenav.tsx"));

describe("Sidenav component tests", function () {
  test("Sidenav renders anchors and Section correctly", function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Sidenav["default"], null, /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Section, null, /*#__PURE__*/_react["default"].createElement("p", null, "nav-content-test"), /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Link")))),
        getByText = _render.getByText;

    expect(getByText("nav-content-test")).toBeTruthy();
    var link = getByText("Link");
    expect(link.closest("a").getAttribute("href")).toBe("#");
  });
  test("Sidenav renders groups correctly", function () {
    var sidenav = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Sidenav["default"], null, /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Section, null, /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Group, {
      title: "Collapsable",
      collapsable: true
    }, /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Lorem ipsum"), /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Lorem ipsum"), /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Lorem ipsum"), /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Lorem ipsum"), /*#__PURE__*/_react["default"].createElement(_Sidenav["default"].Link, {
      href: "#"
    }, "Lorem ipsum")))));
    expect(sidenav.getByText("Collapsable")).toBeTruthy();
    expect(sidenav.getAllByRole("button")[0].getAttribute("aria-expanded")).toBe("true");

    _react2.fireEvent.click(sidenav.getByText("Collapsable"));

    expect(sidenav.getAllByRole("button")[0].getAttribute("aria-expanded")).toBe("false");
  });
});